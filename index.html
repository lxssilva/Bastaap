<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Categor√≠as + Puntos</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #212529; /* Fondo oscuro elegante */
            text-align: center;
            padding: 15px;
            color: #f8f9fa;
            margin: 0;
        }
        
        h1 { color: #ffc107; margin: 10px 0; font-size: 1.5rem; text-transform: uppercase; letter-spacing: 2px;}
        
        /* Contenedores */
        .card {
            background: #343a40;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            max-width: 500px;
            margin: 10px auto;
            border: 1px solid #495057;
        }
        
        /* Bot√≥n Principal Gigante */
        button.main-btn {
            background-color: #0d6efd;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
            box-shadow: 0 5px 0 #0a58ca;
            transition: all 0.1s;
        }
        button.main-btn:active { transform: translateY(5px); box-shadow: none; }
        
        /* Botones Peque√±os */
        button.small-btn {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 5px;
        }

        /* Input Nombre */
        input[type="text"] {
            padding: 12px;
            border-radius: 8px;
            border: none;
            width: 70%;
            font-size: 16px;
            text-align: center;
            margin-bottom: 10px;
        }

        /* Visualizador de Categor√≠a (EL CAMBIO IMPORTANTE) */
        #category-box {
            background: #e9ecef;
            color: #212529;
            padding: 30px 20px;
            border-radius: 12px;
            margin: 20px 0;
            min-height: 120px; /* Altura fija para que no baile */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
            border: 4px solid #ffc107;
        }

        #topic-main { font-size: 2em; font-weight: 800; line-height: 1.1; margin-bottom: 10px; color: #212529; }
        #topic-sub { font-size: 1.2em; color: #d63384; font-weight: bold; font-style: italic; }
        
        /* Marcador */
        .player-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #495057;
            padding: 10px 15px;
            margin-bottom: 8px;
            border-radius: 8px;
            border-left: 5px solid #ffc107;
        }
        
        .score-box {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .score-num { font-size: 1.5em; font-weight: bold; color: #ffc107; width: 30px; text-align: center;}
        
        .btn-point {
            background: #198754; color: white; border: none;
            width: 35px; height: 35px; border-radius: 50%;
            font-size: 18px; font-weight: bold; cursor: pointer;
        }

        .hidden { display: none; }
    </style>
</head>
<body>

    <h1>üß† Generador de Categor√≠as</h1>

    <div id="setup-screen" class="card">
        <h3>Jugadores</h3>
        <input type="text" id="new-player-name" placeholder="Nombre..." autocomplete="off">
        <button class="small-btn" onclick="addPlayer()">Agregar</button>
        <div id="setup-list" style="margin-top:15px; text-align: left; color: #adb5bd;"></div>
        <br>
        <button class="main-btn" onclick="startGame()">¬°JUGAR!</button>
    </div>

    <div id="game-screen" class="card hidden">
        <div style="display:flex; justify-content:space-between; color:#adb5bd; font-size:0.9em;">
            <span id="round-counter">RONDA 0</span>
            <span onclick="resetGame()" style="cursor:pointer; text-decoration:underline;">Salir</span>
        </div>
        
        <div id="category-box">
            <div id="topic-main">Presiona el bot√≥n</div>
            <div id="topic-sub">para nueva categor√≠a</div>
        </div>
        
        <button class="main-btn" onclick="generateCategory()">üé≤ NUEVA CATEGOR√çA</button>

        <hr style="border-color: #495057; margin: 25px 0;">
        
        <div id="players-container"></div>
    </div>

    <div id="winner-message" class="card hidden" style="background: #198754; border:none;">
        <h1>üèÜ ¬°GANADOR! üèÜ</h1>
        <h2 id="winner-text" style="font-size: 2.5em; margin: 30px 0;"></h2>
        <button class="main-btn" style="background: white; color: #198754;" onclick="resetGame()">Nueva Partida</button>
    </div>

    <script>
        // --- DATOS PARA GENERAR ---
        const subjects = [
            "Algo", "Un Animal", "Comida", "Ropa", "Un Lugar", 
            "Famoso/a", "Un Objeto", "Profesi√≥n", "Una Marca", "Regalo", 
            "Pel√≠cula", "Canci√≥n", "Excusa", "Insulto",
            "Veh√≠culo", "Sabor de helado", "App de celular", "Miedo / Fobia",
            "Personaje de Ficci√≥n", "Villano", "Mentira", "Deporte"
        ];

        const conditions = [
            "que huela mal", 
            "que encuentres en la basura", 
            "que le regalar√≠as a tu ex", 
            "pegajoso/a", 
            "que cueste una fortuna", 
            "√∫til en un apocalipsis", 
            "que te de verg√ºenza comprar", 
            "de color rojo", 
            "que haga mucho ruido", 
            "que quepa en tu bolsillo", 
            "peligroso de tocar", 
            "que hay en un hospital", 
            "para conquistar a alguien", 
            "que vender√≠as por dinero",
            "que sea ilegal",
            "que encuentras en la playa",
            "que flote en el agua",
            "que se coma con cuchara",
            "que usas cuando est√°s triste",
            "que empiece con la letra de la ronda" // Gen√©rico para el juego f√≠sico
        ];

        let players = [];
        let round = 0;
        const winningScore = 5;

        // --- FUNCIONES ---

        function addPlayer() {
            const input = document.getElementById('new-player-name');
            const name = input.value.trim();
            if (name) {
                players.push({ name: name, score: 0 });
                renderSetupList();
                input.value = '';
                input.focus();
            }
        }

        function renderSetupList() {
            document.getElementById('setup-list').innerHTML = players.map(p => `<div>‚úÖ ${p.name}</div>`).join('');
        }

        function startGame() {
            if (players.length < 1) { alert("¬°Faltan jugadores!"); return; }
            document.getElementById('setup-screen').classList.add('hidden');
            document.getElementById('game-screen').classList.remove('hidden');
            renderScoreboard();
        }

        function generateCategory() {
            round++;
            document.getElementById('round-counter').innerText = "RONDA " + round;
            
            // Efecto visual r√°pido
            document.getElementById('topic-main').innerText = "...";
            document.getElementById('topic-sub').innerText = "";

            setTimeout(() => {
                const sub = subjects[Math.floor(Math.random() * subjects.length)];
                const cond = conditions[Math.floor(Math.random() * conditions.length)];
                
                document.getElementById('topic-main').innerText = sub;
                document.getElementById('topic-sub').innerText = cond;
            }, 150);
        }

        function givePoint(index) {
            players[index].score++;
            if (players[index].score >= winningScore) {
                endGame(players[index].name);
            } else {
                renderScoreboard();
            }
        }

        function renderScoreboard() {
            const container = document.getElementById('players-container');
            container.innerHTML = '';
            
            players.forEach((player, index) => {
                const div = document.createElement('div');
                div.className = 'player-row';
                div.innerHTML = `
                    <span style="font-weight:bold; font-size:1.1em">${player.name}</span>
                    <div class="score-box">
                        <span class="score-num">${player.score}</span>
                        <button class="btn-point" onclick="givePoint(${index})">+</button>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function endGame(winnerName) {
            document.getElementById('game-screen').classList.add('hidden');
            document.getElementById('winner-message').classList.remove('hidden');
            document.getElementById('winner-text').innerText = winnerName;
        }

        function resetGame() {
            players = [];
            round = 0;
            renderSetupList();
            document.getElementById('winner-message').classList.add('hidden');
            document.getElementById('game-screen').classList.add('hidden'); // Fix para reset desde juego
            document.getElementById('setup-screen').classList.remove('hidden');
            document.getElementById('topic-main').innerText = "Presiona el bot√≥n";
            document.getElementById('topic-sub').innerText = "para nueva categor√≠a";
        }

        document.getElementById("new-player-name").addEventListener("keypress", function(e) {
            if (e.key === "Enter") addPlayer();
        });
    </script>
</body>
</html>